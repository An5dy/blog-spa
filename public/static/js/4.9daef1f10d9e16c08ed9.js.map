{"version":3,"sources":["webpack:///static/js/4.9daef1f10d9e16c08ed9.js","webpack:///./src/components/Modules/Views/Home/Home.vue","webpack:///./src/util/scroll.js","webpack:///src/components/Modules/Views/Home/Home.vue","webpack:///./src/components/Modules/Views/Home/Home.vue?a4a2","webpack:///./src/components/Modules/Views/Home/Home.vue?c708","webpack:///./src/components/Modules/Views/Home/Home.vue?a5ef"],"names":["webpackJsonp","B52v","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","Commons","util_scroll","_getScrollTop","scrollY","self","pageYOffset","document","documentElement","scrollTop","body","_getScrollHeight","scrollHeight","_getInnerHeight","window","innerHeight","isEnd","this","Home","name","components","MenuList","ArticleItem","Sidebar","data","articles","hasMore","spinShow","nextPage","currentPage","lastPage","methods","getArticles","_this","$Loading","start","page","$route","path","query","title","includes","params","id","axios","get","then","res","code","meta","current_page","last_page","concat","finish","initScroll","_this2","addEventListener","e","watch","to","from","mounted","destroy","removeEventListener","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","tag","_l","article","index","key","_v","fix","type","size","_e","staticRenderFns","esExports","Home_Home","normalizeComponent","__vue_styles__","Component","DSns","exports","content","i","locals","pJqS","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/4.9daef1f10d9e16c08ed9.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ \"B52v\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/Modules/Commons/index.js + 6 modules\nvar Commons = __webpack_require__(\"qkuF\");\n\n// CONCATENATED MODULE: ./src/util/scroll.js\n/* harmony default export */ var util_scroll = ({\n    /**\n     * 获取滚动条相对于其顶部的偏移|滚动条下拉的高度\n     *\n     * @returns {*}\n     */\n    _getScrollTop: function _getScrollTop() {\n        var scrollY = void 0;\n        if (self.pageYOffset) {\n            scrollY = self.pageYOffset;\n        } else if (document.documentElement && document.documentElement.scrollTop) {\n            scrollY = document.documentElement.scrollTop;\n        } else if (document.body) {\n            scrollY = document.body.scrollTop;\n        }\n\n        return scrollY;\n    },\n\n    /**\n     * 获取页面总高度\n     *\n     * @returns {number}\n     */\n    _getScrollHeight: function _getScrollHeight() {\n        return document.body.scrollHeight;\n    },\n\n    /**\n     *获取屏幕可视高度\n     *\n     * @returns {Number}\n     */\n    _getInnerHeight: function _getInnerHeight() {\n        return window.innerHeight;\n    },\n\n    /**\n     * 判断滚动条是否到页面最底部\n     *\n     * @returns {boolean}\n     */\n    isEnd: function isEnd() {\n        return this._getScrollHeight() <= this._getInnerHeight() + this._getScrollTop() ? true : false;\n    }\n});\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Modules/Views/Home/Home.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var Home = ({\n    name: 'Home',\n    components: {\n        MenuList: Commons[\"d\" /* MenuList */],\n        ArticleItem: Commons[\"a\" /* ArticleItem */],\n        Sidebar: Commons[\"e\" /* Sidebar */]\n    },\n    data: function data() {\n        return {\n            articles: [],\n            hasMore: false,\n            spinShow: false,\n            nextPage: 1,\n            currentPage: 1,\n            lastPage: 1\n        };\n    },\n\n    methods: {\n        getArticles: function getArticles() {\n            var _this = this;\n\n            // 加载进度条\n            this.$Loading.start();\n            var data = {\n                page: this.nextPage\n            };\n            if (this.$route.path === '/search' && this.$route.query.title != null) {\n                // 文章标题搜索\n                data['title'] = this.$route.query.title;\n            } else if (this.$route.path.includes('/category')) {\n                // 文章分类\n                data['category_id'] = this.$route.params.id;\n            } else if (this.$route.path.includes('/author')) {\n                // 作者\n                data['user_id'] = this.$route.params.id;\n            } else if (this.$route.path.includes('/new')) {\n                // 时间排序\n                data['order_by'] = 'time';\n            }\n            this.axios.get('/articles', { params: data }).then(function (res) {\n                if (res.data.code == '10000') {\n                    _this.currentPage = res.data.meta.current_page;\n                    _this.lastPage = res.data.meta.last_page;\n                    if (_this.currentPage < _this.lastPage) {\n                        _this.spinShow = true;\n                        _this.hasMore = true;\n                    } else {\n                        _this.hasMore = false;\n                        _this.spinShow = false;\n                    }\n                    _this.articles = _this.articles.concat(res.data.data);\n                }\n            });\n            this.$Loading.finish();\n        },\n        initScroll: function initScroll() {\n            var _this2 = this;\n\n            document.addEventListener('scroll', function (e) {\n                if (util_scroll._getScrollTop() > 0 && util_scroll.isEnd() && _this2.hasMore && _this2.lastPage > _this2.nextPage) {\n                    _this2.nextPage++;\n                    _this2.getArticles();\n                }\n            });\n        }\n    },\n    watch: {\n        '$route': function $route(to, from) {\n            this.articles = [];\n            this.currentPage = 1;\n            this.nextPage = 1;\n            this.lastPage = 1;\n            this.hasMore = false;\n            this.getArticles();\n        }\n    },\n    mounted: function mounted() {\n        this.getArticles();\n        this.initScroll();\n    },\n    destroy: function destroy() {\n        window.removeEventListener(\"scroll\", this.initScroll);\n    }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-80fe08c6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modules/Views/Home/Home.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',{staticClass:\"content\"},[_c('i-col',{staticClass:\"article-list\",attrs:{\"span\":\"16\"}},[_c('transition-group',{attrs:{\"name\":\"list\",\"tag\":\"div\"}},_vm._l((_vm.articles),function(article,index){return _c('article-item',{key:article.id,attrs:{\"article\":article}})})),_vm._v(\" \"),_c('div',{staticClass:\"demo-spin-container\"},[(_vm.spinShow)?_c('Spin',{attrs:{\"fix\":\"\"}},[_c('Icon',{staticClass:\"demo-spin-icon-load\",attrs:{\"type\":\"load-c\",\"size\":\"18\"}}),_vm._v(\" \"),_c('div',[_vm._v(\"加载中...\")])],1):_vm._e(),_vm._v(\" \"),(!_vm.hasMore)?_c('div',[_vm._v(\"已加载全部...\")]):_vm._e()],1)],1),_vm._v(\" \"),_c('i-col',{staticClass:\"sidebar-right\",attrs:{\"span\":\"8\"}},[_c('sidebar')],1),_vm._v(\" \"),_c('menu-list')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var Home_Home = (esExports);\n// CONCATENATED MODULE: ./src/components/Modules/Views/Home/Home.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"DSns\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-80fe08c6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  Home,\n  Home_Home,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var Views_Home_Home = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"DSns\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"pJqS\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"cf9763ae\", content, true);\n\n/***/ }),\n\n/***/ \"pJqS\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.content[data-v-80fe08c6] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n@media (max-width: 768px) {\\n.content .sidebar-right[data-v-80fe08c6] {\\n    display: none;\\n}\\n}\\n.content .article[data-v-80fe08c6] {\\n  padding-left: 5px;\\n  padding-right: 5px;\\n}\\n.content .article-list[data-v-80fe08c6] {\\n  padding: 0px 5px;\\n}\\n.content .article-list .list-enter-active[data-v-80fe08c6] {\\n  -webkit-transition: all 1.5s;\\n  transition: all 1.5s;\\n}\\n.content .article-list .list-enter[data-v-80fe08c6] {\\n  opacity: 0;\\n  -webkit-transform: translateY(30px);\\n          transform: translateY(30px);\\n}\\n@media (max-width: 768px) {\\n.content .article-list[data-v-80fe08c6] {\\n    width: 100%;\\n}\\n}\\n.demo-spin-container[data-v-80fe08c6] {\\n  display: inline-block;\\n  width: 100%;\\n  height: 50px;\\n  position: relative;\\n  text-align: center;\\n}\\n.demo-spin-icon-load[data-v-80fe08c6] {\\n  -webkit-animation: ani-demo-spin 1s linear infinite;\\n          animation: ani-demo-spin 1s linear infinite;\\n}\\n.ivu-spin-fix[data-v-80fe08c6] {\\n  background: none;\\n}\\nlist-item[data-v-80fe08c6] {\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\nlist-item[data-v-80fe08c6] {\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zhangze/www/blog/www/src/components/Modules/Views/Home/Home.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;CACf;AACD;AACA;IACI,cAAc;CACjB;CACA;AACD;EACE,kBAAkB;EAClB,mBAAmB;CACpB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;EACE,WAAW;EACX,oCAAoC;UAC5B,4BAA4B;CACrC;AACD;AACA;IACI,YAAY;CACf;CACA;AACD;EACE,sBAAsB;EACtB,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,mBAAmB;CACpB;AACD;EACE,oDAAoD;UAC5C,4CAA4C;CACrD;AACD;EACE,iBAAiB;CAClB;AACD;EACE,sBAAsB;EACtB,mBAAmB;CACpB;AACD;EACE,sBAAsB;EACtB,mBAAmB;CACpB\",\"file\":\"Home.vue\",\"sourcesContent\":[\"\\n.content[data-v-80fe08c6] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n@media (max-width: 768px) {\\n.content .sidebar-right[data-v-80fe08c6] {\\n    display: none;\\n}\\n}\\n.content .article[data-v-80fe08c6] {\\n  padding-left: 5px;\\n  padding-right: 5px;\\n}\\n.content .article-list[data-v-80fe08c6] {\\n  padding: 0px 5px;\\n}\\n.content .article-list .list-enter-active[data-v-80fe08c6] {\\n  -webkit-transition: all 1.5s;\\n  transition: all 1.5s;\\n}\\n.content .article-list .list-enter[data-v-80fe08c6] {\\n  opacity: 0;\\n  -webkit-transform: translateY(30px);\\n          transform: translateY(30px);\\n}\\n@media (max-width: 768px) {\\n.content .article-list[data-v-80fe08c6] {\\n    width: 100%;\\n}\\n}\\n.demo-spin-container[data-v-80fe08c6] {\\n  display: inline-block;\\n  width: 100%;\\n  height: 50px;\\n  position: relative;\\n  text-align: center;\\n}\\n.demo-spin-icon-load[data-v-80fe08c6] {\\n  -webkit-animation: ani-demo-spin 1s linear infinite;\\n          animation: ani-demo-spin 1s linear infinite;\\n}\\n.ivu-spin-fix[data-v-80fe08c6] {\\n  background: none;\\n}\\nlist-item[data-v-80fe08c6] {\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\nlist-item[data-v-80fe08c6] {\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.9daef1f10d9e16c08ed9.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-80fe08c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-80fe08c6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-80fe08c6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modules/Views/Home/Home.vue\n// module id = null\n// module chunks = ","export default {\n    /**\n     * 获取滚动条相对于其顶部的偏移|滚动条下拉的高度\n     *\n     * @returns {*}\n     */\n    _getScrollTop() {\n        let scrollY;\n        if (self.pageYOffset) {\n            scrollY = self.pageYOffset\n        } else if (document.documentElement && document.documentElement.scrollTop) {\n            scrollY = document.documentElement.scrollTop\n        } else if (document.body) {\n            scrollY = document.body.scrollTop\n        }\n\n        return scrollY;\n    },\n    /**\n     * 获取页面总高度\n     *\n     * @returns {number}\n     */\n    _getScrollHeight() {\n        return document.body.scrollHeight;\n    },\n    /**\n     *获取屏幕可视高度\n     *\n     * @returns {Number}\n     */\n    _getInnerHeight() {\n        return window.innerHeight;\n    },\n    /**\n     * 判断滚动条是否到页面最底部\n     *\n     * @returns {boolean}\n     */\n    isEnd() {\n        return this._getScrollHeight() <= this._getInnerHeight() + this._getScrollTop() ? true : false;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/scroll.js","<template>\n    <Row class=\"content\">\n        <i-col span=\"16\" class=\"article-list\">\n            <transition-group name=\"list\" tag=\"div\">\n                <article-item v-for=\"(article, index) in articles\"\n                              :article=\"article\"\n                              :key=\"article.id\">\n                </article-item>\n            </transition-group>\n        <div class=\"demo-spin-container\">\n            <Spin fix v-if=\"spinShow\">\n                <Icon type=\"load-c\" size=18 class=\"demo-spin-icon-load\"></Icon>\n                <div>加载中...</div>\n            </Spin>\n            <div v-if=\"!hasMore\">已加载全部...</div>\n        </div>\n        </i-col>\n        <i-col span=\"8\" class=\"sidebar-right\">\n            <sidebar></sidebar>\n        </i-col>\n        <menu-list></menu-list>\n    </Row>\n</template>\n\n<script>\n    import {MenuList, ArticleItem, Sidebar} from 'Commons'\n    import Scroll from '../../../../util/scroll'\n    export default {\n        name: 'Home',\n        components: {\n            MenuList: MenuList,\n            ArticleItem: ArticleItem,\n            Sidebar: Sidebar\n        },\n        data() {\n            return {\n                articles: [],\n                hasMore: false,\n                spinShow: false,\n                nextPage: 1,\n                currentPage: 1,\n                lastPage: 1,\n            }\n        },\n        methods: {\n            getArticles() {\n                // 加载进度条\n                this.$Loading.start()\n                let data = {\n                    page: this.nextPage\n                };\n                if (this.$route.path === '/search' && this.$route.query.title != null) {\n                    // 文章标题搜索\n                    data['title'] = this.$route.query.title\n                } else if (this.$route.path.includes('/category')) {\n                    // 文章分类\n                    data['category_id'] = this.$route.params.id\n                } else if (this.$route.path.includes('/author')) {\n                    // 作者\n                    data['user_id'] = this.$route.params.id\n                } else if (this.$route.path.includes('/new')) {\n                    // 时间排序\n                    data['order_by'] = 'time'\n                }\n                this.axios.get('/articles', {params: data}).then(res => {\n                    if (res.data.code == '10000') {\n                        this.currentPage = res.data.meta.current_page\n                        this.lastPage = res.data.meta.last_page\n                        if (this.currentPage < this.lastPage) {\n                            this.spinShow = true\n                            this.hasMore = true\n                        } else {\n                            this.hasMore = false\n                            this.spinShow = false\n                        }\n                        this.articles = this.articles.concat(res.data.data)\n                    }\n                })\n                this.$Loading.finish()\n            },\n            initScroll() {\n                document.addEventListener('scroll', (e) => {\n                    if (Scroll._getScrollTop() > 0 && Scroll.isEnd() && this.hasMore && this.lastPage > this.nextPage) {\n                        this.nextPage++\n                        this.getArticles()\n                    }\n                })\n            }\n        },\n        watch: {\n            '$route' (to, from) {\n                this.articles = []\n                this.currentPage = 1\n                this.nextPage = 1\n                this.lastPage = 1\n                this.hasMore = false\n                this.getArticles()\n            },\n        },\n        mounted() {\n            this.getArticles()\n            this.initScroll()\n        },\n        destroy() {\n            window.removeEventListener(\"scroll\",this.initScroll)\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped rel=\"stylesheet/less\">\n    @import \"Home.less\";\n    list-item {\n        display: inline-block;\n        margin-right: 10px;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Modules/Views/Home/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',{staticClass:\"content\"},[_c('i-col',{staticClass:\"article-list\",attrs:{\"span\":\"16\"}},[_c('transition-group',{attrs:{\"name\":\"list\",\"tag\":\"div\"}},_vm._l((_vm.articles),function(article,index){return _c('article-item',{key:article.id,attrs:{\"article\":article}})})),_vm._v(\" \"),_c('div',{staticClass:\"demo-spin-container\"},[(_vm.spinShow)?_c('Spin',{attrs:{\"fix\":\"\"}},[_c('Icon',{staticClass:\"demo-spin-icon-load\",attrs:{\"type\":\"load-c\",\"size\":\"18\"}}),_vm._v(\" \"),_c('div',[_vm._v(\"加载中...\")])],1):_vm._e(),_vm._v(\" \"),(!_vm.hasMore)?_c('div',[_vm._v(\"已加载全部...\")]):_vm._e()],1)],1),_vm._v(\" \"),_c('i-col',{staticClass:\"sidebar-right\",attrs:{\"span\":\"8\"}},[_c('sidebar')],1),_vm._v(\" \"),_c('menu-list')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-80fe08c6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modules/Views/Home/Home.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-80fe08c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Home.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"cf9763ae\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-80fe08c6\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Modules/Views/Home/Home.vue\n// module id = DSns\n// module chunks = 4","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.content[data-v-80fe08c6] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n@media (max-width: 768px) {\\n.content .sidebar-right[data-v-80fe08c6] {\\n    display: none;\\n}\\n}\\n.content .article[data-v-80fe08c6] {\\n  padding-left: 5px;\\n  padding-right: 5px;\\n}\\n.content .article-list[data-v-80fe08c6] {\\n  padding: 0px 5px;\\n}\\n.content .article-list .list-enter-active[data-v-80fe08c6] {\\n  -webkit-transition: all 1.5s;\\n  transition: all 1.5s;\\n}\\n.content .article-list .list-enter[data-v-80fe08c6] {\\n  opacity: 0;\\n  -webkit-transform: translateY(30px);\\n          transform: translateY(30px);\\n}\\n@media (max-width: 768px) {\\n.content .article-list[data-v-80fe08c6] {\\n    width: 100%;\\n}\\n}\\n.demo-spin-container[data-v-80fe08c6] {\\n  display: inline-block;\\n  width: 100%;\\n  height: 50px;\\n  position: relative;\\n  text-align: center;\\n}\\n.demo-spin-icon-load[data-v-80fe08c6] {\\n  -webkit-animation: ani-demo-spin 1s linear infinite;\\n          animation: ani-demo-spin 1s linear infinite;\\n}\\n.ivu-spin-fix[data-v-80fe08c6] {\\n  background: none;\\n}\\nlist-item[data-v-80fe08c6] {\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\nlist-item[data-v-80fe08c6] {\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zhangze/www/blog/www/src/components/Modules/Views/Home/Home.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;CACf;AACD;AACA;IACI,cAAc;CACjB;CACA;AACD;EACE,kBAAkB;EAClB,mBAAmB;CACpB;AACD;EACE,iBAAiB;CAClB;AACD;EACE,6BAA6B;EAC7B,qBAAqB;CACtB;AACD;EACE,WAAW;EACX,oCAAoC;UAC5B,4BAA4B;CACrC;AACD;AACA;IACI,YAAY;CACf;CACA;AACD;EACE,sBAAsB;EACtB,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,mBAAmB;CACpB;AACD;EACE,oDAAoD;UAC5C,4CAA4C;CACrD;AACD;EACE,iBAAiB;CAClB;AACD;EACE,sBAAsB;EACtB,mBAAmB;CACpB;AACD;EACE,sBAAsB;EACtB,mBAAmB;CACpB\",\"file\":\"Home.vue\",\"sourcesContent\":[\"\\n.content[data-v-80fe08c6] {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n@media (max-width: 768px) {\\n.content .sidebar-right[data-v-80fe08c6] {\\n    display: none;\\n}\\n}\\n.content .article[data-v-80fe08c6] {\\n  padding-left: 5px;\\n  padding-right: 5px;\\n}\\n.content .article-list[data-v-80fe08c6] {\\n  padding: 0px 5px;\\n}\\n.content .article-list .list-enter-active[data-v-80fe08c6] {\\n  -webkit-transition: all 1.5s;\\n  transition: all 1.5s;\\n}\\n.content .article-list .list-enter[data-v-80fe08c6] {\\n  opacity: 0;\\n  -webkit-transform: translateY(30px);\\n          transform: translateY(30px);\\n}\\n@media (max-width: 768px) {\\n.content .article-list[data-v-80fe08c6] {\\n    width: 100%;\\n}\\n}\\n.demo-spin-container[data-v-80fe08c6] {\\n  display: inline-block;\\n  width: 100%;\\n  height: 50px;\\n  position: relative;\\n  text-align: center;\\n}\\n.demo-spin-icon-load[data-v-80fe08c6] {\\n  -webkit-animation: ani-demo-spin 1s linear infinite;\\n          animation: ani-demo-spin 1s linear infinite;\\n}\\n.ivu-spin-fix[data-v-80fe08c6] {\\n  background: none;\\n}\\nlist-item[data-v-80fe08c6] {\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\nlist-item[data-v-80fe08c6] {\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-80fe08c6\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Modules/Views/Home/Home.vue\n// module id = pJqS\n// module chunks = 4"],"sourceRoot":""}