{"version":3,"sources":["webpack:///static/js/15.ba82ae38a29e7c9f926b.js","webpack:///./src/components/Sign/Register/Register.vue?c452","webpack:///./src/components/Sign/Register/Register.vue","webpack:///src/components/Sign/Register/Register.vue","webpack:///./src/components/Sign/Register/Register.vue?d210","webpack:///./src/components/Sign/Register/Register.vue?91f1"],"names":["webpackJsonp","SDxK","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","Skw2","__webpack_exports__","injectStyle","ssrContext","Object","defineProperty","value","Register","data","_this","this","sendStatus","codeMsg","formRegister","username","email","captchaCode","password","password_confirmation","ruleRegister","validator","rule","callback","Error","trigger","test","methods","handleSubmit","name","_this2","$refs","validate","valid","$Loading","start","axios","post","then","res","code","$Message","success","$emit","error","message","catch","finish","sendCaptchaCode","_this3","timeCount","interval","setInterval","clearInterval","render","_vm","_h","$createElement","_c","_self","ref","attrs","model","rules","label-position","prop","placeholder","$$v","$set","expression","_v","staticClass","type","disabled","on","click","_s","long","$event","staticRenderFns","esExports","Register_Register","normalizeComponent","__vue_styles__","Component","ateR","content","locals"],"mappings":"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","file":"static/js/15.ba82ae38a29e7c9f926b.js","sourcesContent":["webpackJsonp([15],{\n\n/***/ \"SDxK\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.get-code .ivu-form-item-content {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n.get-code .btn-get-code {\\n  width: 110px;\\n  margin-left: 10px;\\n}\\n.get-code .code-item {\\n  width: 100%;\\n  position: relative;\\n}\\n.register-submit {\\n  height: 40px;\\n  font-size: 15px;\\n  margin-top: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zhangze/www/blog/www/src/components/Sign/Register/Register.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;CACf;AACD;EACE,aAAa;EACb,kBAAkB;CACnB;AACD;EACE,YAAY;EACZ,mBAAmB;CACpB;AACD;EACE,aAAa;EACb,gBAAgB;EAChB,iBAAiB;CAClB\",\"file\":\"Register.vue\",\"sourcesContent\":[\"\\n.get-code .ivu-form-item-content {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n.get-code .btn-get-code {\\n  width: 110px;\\n  margin-left: 10px;\\n}\\n.get-code .code-item {\\n  width: 100%;\\n  position: relative;\\n}\\n.register-submit {\\n  height: 40px;\\n  font-size: 15px;\\n  margin-top: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"Skw2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Sign/Register/Register.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Register = ({\n    data: function data() {\n        var _this = this;\n\n        var validateUsername = function validateUsername(rule, value, callback) {\n            if (value === '') {\n                callback(new Error('用户名不能为空'));\n            } else {\n                callback();\n            }\n        };\n        var validateEmail = function validateEmail(rule, value, callback) {\n            if (value === '') {\n                callback(new Error('邮箱不能为空'));\n            } else {\n                var emailReg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;\n                if (emailReg.test(value)) {\n                    callback();\n                } else {\n                    callback(new Error('邮箱格式不正确'));\n                }\n            }\n        };\n        var validateCaptchaCode = function validateCaptchaCode(rule, value, callback) {\n            if (value === '') {\n                callback(new Error('验证码不能为空'));\n            } else {\n                callback();\n            }\n        };\n        var validatePassword = function validatePassword(rule, value, callback) {\n            if (value === '') {\n                callback(new Error('密码不能为空'));\n            } else {\n                callback();\n            }\n        };\n        var validatePasswordConfirm = function validatePasswordConfirm(rule, value, callback) {\n            if (value === '') {\n                callback(new Error('确认密码不能为空'));\n            } else if (value !== _this.formRegister.password) {\n                callback(new Error('两次密码输入不一致'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            sendStatus: false,\n            codeMsg: '获取验证码',\n            formRegister: {\n                username: '',\n                email: '',\n                captchaCode: '',\n                password: '',\n                password_confirmation: ''\n            },\n            ruleRegister: {\n                username: [{ validator: validateUsername, trigger: 'blur' }],\n                email: [{ validator: validateEmail, trigger: 'blur' }],\n                captchaCode: [{ validator: validateCaptchaCode, trigger: 'blur' }],\n                password: [{ validator: validatePassword, trigger: 'blur' }],\n                password_confirmation: [{ validator: validatePasswordConfirm, trigger: 'blur' }]\n            }\n        };\n    },\n\n    methods: {\n        handleSubmit: function handleSubmit(name) {\n            var _this2 = this;\n\n            this.$refs[name].validate(function (valid) {\n                if (valid) {\n                    _this2.$Loading.start();\n                    _this2.axios.post('/register', _this2.formRegister).then(function (res) {\n                        if (res.data.code === '10000') {\n                            _this2.$Message.success('注册成功');\n                            _this2.$emit('update:tabName', 'login');\n                        } else {\n                            _this2.$Message.error(res.data.message);\n                        }\n                    }).catch(function (error) {\n                        _this2.$Message.error('系统错误');\n                    });\n                    _this2.$Loading.finish();\n                } else {\n                    _this2.$Message.error('注册失败');\n                }\n            });\n        },\n        sendCaptchaCode: function sendCaptchaCode() {\n            var _this3 = this;\n\n            if (this.formRegister.email === '') {\n                this.$Message.error('邮箱不能为空!');\n            } else {\n                this.$Loading.start();\n                this.axios.post('/verification_code/send', { email: this.formRegister.email }).then(function (res) {\n                    if (res.data.code === '10000') {\n                        _this3.$Message.success('邮件发送成功');\n                    } else {\n                        _this3.$Message.error(res.data.message);\n                    }\n                    _this3.sendStatus = true;\n                    var timeCount = 58;\n                    _this3.codeMsg = '59秒后重试';\n                    var interval = setInterval(function () {\n                        _this3.codeMsg = timeCount + '秒后重试';\n                        timeCount--;\n                        if (timeCount === 0) {\n                            _this3.sendStatus = false;\n                            _this3.codeMsg = '重新发送';\n                            clearInterval(interval);\n                        }\n                    }, 1000);\n                }).catch(function (error) {\n                    _this3.$Message.error('系统错误');\n                });\n                this.$Loading.finish();\n            }\n        }\n    }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-404352d3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Sign/Register/Register.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',[_c('Form',{ref:\"formRegister\",attrs:{\"model\":_vm.formRegister,\"rules\":_vm.ruleRegister,\"label-position\":\"top\"}},[_c('FormItem',{attrs:{\"prop\":\"username\"}},[_c('Input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.formRegister.username),callback:function ($$v) {_vm.$set(_vm.formRegister, \"username\", $$v)},expression:\"formRegister.username\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"email\"}},[_c('Input',{attrs:{\"placeholder\":\"邮箱\"},model:{value:(_vm.formRegister.email),callback:function ($$v) {_vm.$set(_vm.formRegister, \"email\", $$v)},expression:\"formRegister.email\"}})],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"get-code\",attrs:{\"prop\":\"captchaCode\"}},[_c('div',{staticClass:\"code-item\"},[_c('Input',{attrs:{\"placeholder\":\"验证码\"},model:{value:(_vm.formRegister.captchaCode),callback:function ($$v) {_vm.$set(_vm.formRegister, \"captchaCode\", $$v)},expression:\"formRegister.captchaCode\"}})],1),_vm._v(\" \"),_c('Button',{staticClass:\"btn-get-code\",attrs:{\"type\":\"primary\",\"disabled\":_vm.sendStatus},on:{\"click\":_vm.sendCaptchaCode}},[_vm._v(_vm._s(_vm.codeMsg))])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.formRegister.password),callback:function ($$v) {_vm.$set(_vm.formRegister, \"password\", $$v)},expression:\"formRegister.password\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password_confirmation\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"确认密码\"},model:{value:(_vm.formRegister.password_confirmation),callback:function ($$v) {_vm.$set(_vm.formRegister, \"password_confirmation\", $$v)},expression:\"formRegister.password_confirmation\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticClass:\"register-submit\",attrs:{\"type\":\"success\",\"long\":\"\"},on:{\"click\":function($event){_vm.handleSubmit('formRegister')}}},[_vm._v(\"注册\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var Register_Register = (esExports);\n// CONCATENATED MODULE: ./src/components/Sign/Register/Register.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"ateR\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  Register,\n  Register_Register,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var Sign_Register_Register = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"ateR\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"SDxK\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"30d36056\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/15.ba82ae38a29e7c9f926b.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.get-code .ivu-form-item-content {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n.get-code .btn-get-code {\\n  width: 110px;\\n  margin-left: 10px;\\n}\\n.get-code .code-item {\\n  width: 100%;\\n  position: relative;\\n}\\n.register-submit {\\n  height: 40px;\\n  font-size: 15px;\\n  margin-top: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/zhangze/www/blog/www/src/components/Sign/Register/Register.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;CACf;AACD;EACE,aAAa;EACb,kBAAkB;CACnB;AACD;EACE,YAAY;EACZ,mBAAmB;CACpB;AACD;EACE,aAAa;EACb,gBAAgB;EAChB,iBAAiB;CAClB\",\"file\":\"Register.vue\",\"sourcesContent\":[\"\\n.get-code .ivu-form-item-content {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n.get-code .btn-get-code {\\n  width: 110px;\\n  margin-left: 10px;\\n}\\n.get-code .code-item {\\n  width: 100%;\\n  position: relative;\\n}\\n.register-submit {\\n  height: 40px;\\n  font-size: 15px;\\n  margin-top: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-404352d3\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Sign/Register/Register.vue\n// module id = SDxK\n// module chunks = 15","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-404352d3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Register.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-404352d3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Sign/Register/Register.vue\n// module id = null\n// module chunks = ","<template>\n    <Row>\n        <Form ref=\"formRegister\"\n              :model=\"formRegister\"\n              :rules=\"ruleRegister\"\n              label-position=\"top\">\n            <FormItem prop=\"username\">\n                <Input v-model=\"formRegister.username\" placeholder=\"用户名\"></Input>\n            </FormItem>\n            <FormItem prop=\"email\">\n                <Input v-model=\"formRegister.email\" placeholder=\"邮箱\"></Input>\n            </FormItem>\n            <FormItem class=\"get-code\" prop=\"captchaCode\">\n                <div class=\"code-item\">\n                    <Input v-model=\"formRegister.captchaCode\" placeholder=\"验证码\"/>\n                </div>\n                <Button class=\"btn-get-code\" type=\"primary\" :disabled=\"sendStatus\" @click=\"sendCaptchaCode\">{{ codeMsg }}</Button>\n            </FormItem>\n            <FormItem prop=\"password\">\n                <Input v-model=\"formRegister.password\" type=\"password\" placeholder=\"密码\"></Input>\n            </FormItem>\n            <FormItem prop=\"password_confirmation\">\n                <Input v-model=\"formRegister.password_confirmation\" type=\"password\" placeholder=\"确认密码\"></Input>\n            </FormItem>\n            <FormItem>\n                <Button type=\"success\" long class=\"register-submit\" @click=\"handleSubmit('formRegister')\">注册</Button>\n            </FormItem>\n        </Form>\n    </Row>\n</template>\n\n<script>\n    export default {\n        data() {\n            const validateUsername = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('用户名不能为空'))\n                } else {\n                    callback()\n                }\n            };\n            const validateEmail = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('邮箱不能为空'))\n                } else {\n                    let emailReg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/\n                    if (emailReg.test(value)) {\n                        callback()\n                    } else {\n                        callback(new Error('邮箱格式不正确'))\n                    }\n                }\n            };\n            const validateCaptchaCode = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('验证码不能为空'))\n                } else {\n                    callback()\n                }\n            };\n            const validatePassword = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('密码不能为空'))\n                } else {\n                    callback()\n                }\n            };\n            const validatePasswordConfirm = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('确认密码不能为空'))\n                } else if (value !== this.formRegister.password) {\n                    callback(new Error('两次密码输入不一致'))\n                } else {\n                    callback()\n                }\n            }\n            return {\n                sendStatus: false,\n                codeMsg: '获取验证码',\n                formRegister: {\n                    username: '',\n                    email: '',\n                    captchaCode: '',\n                    password: '',\n                    password_confirmation: ''\n                },\n                ruleRegister: {\n                    username: [\n                        { validator: validateUsername, trigger: 'blur' }\n                    ],\n                    email: [\n                        { validator: validateEmail, trigger: 'blur' }\n                    ],\n                    captchaCode: [\n                        { validator: validateCaptchaCode, trigger: 'blur' }\n                    ],\n                    password: [\n                        { validator: validatePassword, trigger: 'blur' }\n                    ],\n                    password_confirmation: [\n                        { validator: validatePasswordConfirm, trigger: 'blur' }\n                    ]\n                }\n            }\n        },\n        methods: {\n            handleSubmit(name) {\n                this.$refs[name].validate((valid) => {\n                    if (valid) {\n                        this.$Loading.start()\n                        this.axios.post('/register', this.formRegister).then(res => {\n                            if (res.data.code === '10000') {\n                                this.$Message.success('注册成功')\n                                this.$emit('update:tabName', 'login')\n                            } else {\n                                this.$Message.error(res.data.message)\n                            }\n                        }).catch(error => {\n                            this.$Message.error('系统错误')\n                        });\n                        this.$Loading.finish()\n                    } else {\n                        this.$Message.error('注册失败')\n                    }\n                })\n            },\n            sendCaptchaCode() {\n                if (this.formRegister.email === '') {\n                    this.$Message.error('邮箱不能为空!')\n                } else {\n                    this.$Loading.start();\n                    this.axios.post('/verification_code/send', {email: this.formRegister.email}).then(res => {\n                        if (res.data.code === '10000') {\n                            this.$Message.success('邮件发送成功')\n                        } else {\n                            this.$Message.error(res.data.message)\n                        }\n                        this.sendStatus = true\n                        let timeCount = 58\n                        this.codeMsg = '59秒后重试'\n                        let interval = setInterval(() => {\n                            this.codeMsg = timeCount + '秒后重试'\n                            timeCount --\n                            if (timeCount === 0) {\n                                this.sendStatus = false\n                                this.codeMsg = '重新发送'\n                                clearInterval(interval)\n                            }\n                        }, 1000);\n                    }).catch(error => {\n                        this.$Message.error('系统错误')\n                    })\n                    this.$Loading.finish()\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\" rel=\"stylesheet/less\">\n    @import \"Register.less\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Sign/Register/Register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',[_c('Form',{ref:\"formRegister\",attrs:{\"model\":_vm.formRegister,\"rules\":_vm.ruleRegister,\"label-position\":\"top\"}},[_c('FormItem',{attrs:{\"prop\":\"username\"}},[_c('Input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.formRegister.username),callback:function ($$v) {_vm.$set(_vm.formRegister, \"username\", $$v)},expression:\"formRegister.username\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"email\"}},[_c('Input',{attrs:{\"placeholder\":\"邮箱\"},model:{value:(_vm.formRegister.email),callback:function ($$v) {_vm.$set(_vm.formRegister, \"email\", $$v)},expression:\"formRegister.email\"}})],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"get-code\",attrs:{\"prop\":\"captchaCode\"}},[_c('div',{staticClass:\"code-item\"},[_c('Input',{attrs:{\"placeholder\":\"验证码\"},model:{value:(_vm.formRegister.captchaCode),callback:function ($$v) {_vm.$set(_vm.formRegister, \"captchaCode\", $$v)},expression:\"formRegister.captchaCode\"}})],1),_vm._v(\" \"),_c('Button',{staticClass:\"btn-get-code\",attrs:{\"type\":\"primary\",\"disabled\":_vm.sendStatus},on:{\"click\":_vm.sendCaptchaCode}},[_vm._v(_vm._s(_vm.codeMsg))])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.formRegister.password),callback:function ($$v) {_vm.$set(_vm.formRegister, \"password\", $$v)},expression:\"formRegister.password\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password_confirmation\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"确认密码\"},model:{value:(_vm.formRegister.password_confirmation),callback:function ($$v) {_vm.$set(_vm.formRegister, \"password_confirmation\", $$v)},expression:\"formRegister.password_confirmation\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticClass:\"register-submit\",attrs:{\"type\":\"success\",\"long\":\"\"},on:{\"click\":function($event){_vm.handleSubmit('formRegister')}}},[_vm._v(\"注册\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-404352d3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Sign/Register/Register.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-404352d3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Register.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"30d36056\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-404352d3\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/less-loader/dist/cjs.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Sign/Register/Register.vue\n// module id = ateR\n// module chunks = 15"],"sourceRoot":""}